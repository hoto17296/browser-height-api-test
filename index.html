<!DOCTYPE html>
<html>
<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width'>
  <title>Browser Height API Test</title>
  <link type='text/css' rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css' />
  <style>
    html {
      background: black;
      height: 100%;
    }
    body {
      color: white;
      background: -webkit-linear-gradient(top, blue, orange);
      background:    -moz-linear-gradient(top, blue, orange);
      background:      -o-linear-gradient(top, blue, orange);
      background:         linear-gradient(to bottom, blue, orange);
    }
    #container {
      position: fixed;
      margin: .5em;
    }
    tr, td {
      padding: 0 .5em;
    }
  </style>
</head>
<body>
  <div id='container'></div>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react-dom.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js'></script>
  <script type='text/babel'>
    class Inspector extends React.Component {
      constructor(props) {
        super(props);
        this.state = {
          bodyHeight: 200, // %
        };
      }
      componentDidMount() {
        this.updateBodyHeight( this.state.bodyHeight );
      }
      render() {
        const params = ['scrollTop', 'clientHeight', 'scrollHeight'];
        return (
          <div>
            <table>
              <tbody>
                <tr>
                  <th></th>
                  <th>body</th>
                  <th>html</th>
                </tr>
                {
                  params.map((param) => {
                    return (
                      <tr key={param}>
                        <th>{param}</th>
                        <td>{this.props.body[param]}</td>
                        <td>{this.props.html[param]}</td>
                      </tr>
                    );
                  })
                }
              </tbody>
            </table>
            <form>
              <input type='range' min='50' max='200' step='10' value={this.state.bodyHeight} onChange={this.onChange.bind(this)} />
            </form>
          </div>
        )
      }
      onChange(event) {
        this.updateBodyHeight( event.target.value );
        this.setState({ bodyHeight: event.target.value });
      }
      updateBodyHeight( height ) {
        window.document.body.style.height = height + '%';
      }
    }
    function render() {
      ReactDOM.render(
        <Inspector body={window.document.body} html={window.document.documentElement} />,
        window.document.getElementById('container')
      );
    }
    window.document.addEventListener('scroll', render);
    window.addEventListener('resize', render);
    render();
  </script>
</body>
</html>
